<!DOCTYPE html>
<html>
<head>
    <!-- Yandex.Metrika counter -->
<script type="text/javascript" >
   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
   m[i].l=1*new Date();
   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(92426514, "init", {
        clickmap:false,
        trackLinks:false,
        accurateTrackBounce:false,
        webvisor:false
   });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/92426514" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="{% if title %}{{ title }} - DigitalBlog{% else %}Добро пожаловать в DigitalBlog!{% endif %}">
    <title>{% if title %}{{ title }} - DigitalBlog{% else %}Добро пожаловать в DigitalBlog!{% endif %}</title>
    <meta name="description" content="{% if description %}{{ description }}{% endif %}">
    <link type="image/x-icon" rel="shortcut icon" href="https://digitalblog.github.io/cdn/img/icons/favicon.ico">
    <link type="image/png" sizes="16x16" rel="icon" href="https://digitalblog.github.io/cdn/img/icons/16x16.png">
    <link type="image/png" sizes="48x48" rel="icon" href="https://digitalblog.github.io/cdn/img/icons/48x48.png">
    <link type="image/png" sizes="128x128" rel="icon" href="https://digitalblog.github.io/cdn/img/icons/128x128.png">
    <link rel="apple-touch-icon" href="https://digitalblog.github.io/cdn/img/icons/apple-touch-icon.png">

    <link rel="preload" href="https://digitalblog.github.io/cdn/font-awesome/css/fontawesome.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://digitalblog.github.io/cdn/font-awesome/css/fontawesome.min.css"></noscript>

    <link rel="preload" href="https://digitalblog.github.io/cdn/font-awesome/css/brands.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://digitalblog.github.io/cdn/font-awesome/css/brands.min.css"></noscript>

    <link rel="preload" href="https://digitalblog.github.io/cdn/font-awesome/css/regular.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://digitalblog.github.io/cdn/font-awesome/css/regular.min.css"></noscript>

    <link rel="preload" href="https://digitalblog.github.io/cdn/font-awesome/css/solid.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://digitalblog.github.io/cdn/font-awesome/css/solid.min.css"></noscript>

    <link rel="stylesheet" href="https://digitalblog.github.io/cdn/css/bootstrap.min.css">
   <link rel="stylesheet" href="https://digitalblog.github.io/cdn/css/alert.css">
   <link rel="preload" href="https://digitalblog.github.io/cdn/css/custom.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://digitalblog.github.io/cdn/css/custom.css"></noscript>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&amp;family=Open+Sans:ital@0;1&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&amp;family=Open+Sans:ital@0;1&amp;display=swap"></noscript>
    <style>
*{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Nunito" , sans-serif;
}
body{
  padding-top: 70px;
  margin-bottom: 50px;
}
::-moz-selection { /* Code for Firefox */
  color: white;
  background: rgba(162, 50, 253, 0.8);
}

::selection {
  color: white;
  background: rgba(162, 50, 253, 0.8);
}
.loader-body{width:100%;height:100vh;background-color:#e6e6ff;position:fixed;z-index:9999999999999999999999999999;visibility:visible;top:0;left:0;text-align:center;justify-content:center;align-content:center;transition:.5s all}.loader{width:100px;height:100px;border:12px solid #fff;border-radius:50%;position:absolute;
	/*change color of border*/ border-top-color:rgb(144, 0, 255);transform:translate(-50%,-50%);top:50%;left:50%;-webkit-animation:0.75s spin infinite linear;-o-animation:0.75s spin infinite linear;animation:0.75s spin infinite linear}.loader-body.done{visibility:hidden;opacity:0}@keyframes spin{from{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}
#scroll_top {
	display: none;
	position: fixed;
	bottom: 90px;
	right: 10px;
	z-index: 999999;
	width: 50px;
	height: 50px;
	background: url("https://digitalblog.github.io/cdn/img/scroll_top.webp") 50% 50% no-repeat;
	border-radius: 50%;
	opacity: 0.5;
}
#scroll_top:hover {
 	opacity: 1;
}
@media (max-width: 700px) {
  .container {
    zoom: 90%;
  }
}
@media (max-width: 420px) {
  .container {
    zoom: 80%;
  }
}
    </style>
</head>
<body>
{% block navbar %}
<div class="loader-body" id="loader">
        <div class="loader"></div>
    </div>
{% if not current_user.is_anonymous %}

<nav style="background-color:#e6e6ff;" class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
         <a class="navbar-brand" href="{{url_for('main.index')}}"><img loading="lazy" alt="DigitalBlog Logo" src="https://digitalblog.github.io/cdn/img/navbar.webp" class="href" style="float: left;height: 35px;width: 35px;margin-right: 10px;margin-top: -6px;" > DigitalBlog</a>
   </div>
        <div id="navbar" class="collapse navbar-collapse">
          <form onsubmit="document.getElementById('loader').classList.toggle('done');" action="{{url_for('main.search', search=request.form["search"])}}" class="navbar-form navbar-left">
          <input name="search" type="text" class="form-control" placeholder="{{ _("Поиск публикаций") }}" required></input>
          <button type="submit" class="btn btn-success">{{ _('Искать') }}</button>
          </form>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a class="no-href dropdown-toggle" data-toggle="dropdown">
                        <img loading="lazy" alt="{{current_user.username}} Avatar" src="{{current_user.avatar() }}" style="float: left;height: 35px;width: 35px;border-radius:50%;margin-right: 10px;margin-top: -6px;" >
                        <span>{{current_user.username}}</span><span class="caret"></span>&nbsp;&nbsp;&nbsp;&nbsp;
               </a>
              <ul class="dropdown-menu">
                {% if current_user.blogger %}
                <li><a href="{{url_for('main.new_post')}}"><i class="fa fa-plus fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Создать публикацию') }}</a></li>
                {% else %}
                <li><a href="{{url_for('main.request_bloger')}}"><i class="fa fa-plus fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Запросить блогера') }}</a></li>
                {% endif %}
                <li><a href="{{ url_for('main.notifies')}}"><i class="fa-solid fa-bell fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Уведомления') }}
                {% set new_notify = current_user.new_notifies() %}
                            <span id="notify_count" class="label label-success">
                                {{ new_notify }}</span></a></li>
                <li><a href="{{ url_for('main.users')}}"><i class="fa fa-users fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Все пользователи') }}</a></li>
                {% if current_user.main_admin() %}
                <li><a href="https://admin.digitalblog.repl.co/admin"><i class="fa fa-lock fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Админ панель') }}</a></li>
                {% endif %}
                <li><a href="{{url_for('main.messages')}}"><i class="fa-solid fa-envelope fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Личные сообщения') }}
                            {% set new_messages = current_user.new_messages() %}
                            <span id="message_count" class="label label-success">
                                {{ new_messages }}
                            </span></a></li>
                {% if current_user.moderator() %}
                <li><a href="{{ url_for('main.moderation')}}"><i class="fa-solid fa-comments fa-fw"></i>&nbsp;{{ _('Модерация') }}</a></li>
                {% endif %}
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">{{ _('Аккаунт') }}</li>
                <li><a href="{{url_for('main.user', username=current_user.username)}}"><i class="fa fa-user fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Профиль') }}</a></li>
                <li><a href="{{ url_for('main.billing')}}"><i class="fa fa-credit-card fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Использование') }}</a></li>
                <li><a href="{{url_for('auth.logout')}}"><i class="fa fa-sign-out fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Выйти') }}</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
    </nav>
{% else %}
  <nav style="background-color:#e6e6ff;" class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
         <a class="navbar-brand" href="{{url_for('main.posts')}}"><img alt="DigitalBlog Logo" loading="lazy" src="https://digitalblog.github.io/cdn/img/navbar.webp" class="href" style="float: left;height: 35px;width: 35px;margin-right: 10px;margin-top: -6px;" > DigitalBlog</a>
   </div>
        <div id="navbar" class="collapse navbar-collapse">
          <form onsubmit="document.getElementById('loader').classList.toggle('done');" action="{{url_for('main.search', search=request.form["search"])}}" class="navbar-form navbar-left">
          <input name="search" type="text" class="form-control" placeholder="{{ _("Поиск публикаций") }}" required></input>
          <button type="submit" class="btn btn-success">{{ _('Искать') }}</button>
          </form>
          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a class="no-href dropdown-toggle" data-toggle="dropdown">
                        <img loading="lazy" alt="Anonymous Avatar" src="https://digitalblog.github.io/cdn/img/default.webp" style="float: left;height: 35px;width: 35px;border-radius:50%;margin-right: 10px;margin-top: -6px;" >
                        <span>{{ _('Аноним') }}</span><span class="caret"></span>&nbsp;&nbsp;&nbsp;&nbsp;
               </a>
              <ul class="dropdown-menu">
                <li><a href="{{ url_for('main.users')}}"><i class="fa fa-users fa-fw" aria-hidden="true"></i>&nbsp;{{ _('Все пользователи') }}</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">{{ _('Аккаунт') }}</li>
                <li><a href="{{url_for('auth.login')}}"><i class="fa-solid fa-right-to-bracket fa-fw"></i>&nbsp;{{ _('Войти') }}</a></li>
                <li><a href="{{url_for('auth.register')}}"><i class="fa-solid fa-user-plus fa-fw"></i>&nbsp;{{ _('Зарегистрироваться') }}</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
    </nav>
{% endif %}
    <script src="https://digitalblog.github.io/cdn/js/jquery.min.js"></script>
    <script src="https://digitalblog.github.io/cdn/js/alert.js"></script>
    <script defer src="https://digitalblog.github.io/cdn/js/bootstrap.min.js"></script>
    <script>
if (sessionStorage.scroll) document.documentElement.scrollTop = sessionStorage.scroll;

window.addEventListener('scroll', () => {
  sessionStorage.scroll = document.documentElement.scrollTop;
});
window.onload = function() {
    var preloader = document.getElementById('loader');
    preloader.classList.toggle('done');
      (function(d, w, c) {
      w.BrevoConversationsID = '64afe5ccda69c95cfa71c0c6';
      w[c] = w[c] || function() {
          (w[c].q = w[c].q || []).push(arguments);
      };
      var s = d.createElement('script');
      s.async = true;
      s.src = 'https://conversations-widget.brevo.com/brevo-conversations.js';
      if (d.head) d.head.appendChild(s);
  })(document, window, 'BrevoConversations');
    document.addEventListener('click', function (e) {
    if (e.target.tagName === 'A' &&
        e.target.href.startsWith("https://digitalblog.repl.co/") &&
        !e.target.classList.contains('no-href')) {
        var preloader = document.getElementById('loader');
        preloader.classList.toggle('done');
    }
    });
    document.addEventListener('click', function(e) {
      if ((e.target.classList.contains('href'))) {
        var preloader = document.getElementById('loader');
        preloader.classList.toggle('done');
      }
    });
};
    </script>
{% endblock %}

{% block content %}
        <div class="container">
        <a href="#" id="scroll_top"></a>
        {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for category, msg in get_flashed_messages(with_categories=True) %}
            <script>
{% if category=="danger" %}
Alert.error("{{msg}}",'Ошибка!',{displayDuration: 10000})
{% elif category=="warning" %}
Alert.warning("{{msg}}",'Внимание!',{displayDuration: 10000})
{% elif category=="success" %}
Alert.success("{{msg}}",'Успешно!',{displayDuration: 10000})
{% elif category=="info" %}
Alert.info("{{msg}}",'К сведению',{displayDuration: 10000})
{% endif %}
</script>
            {% endfor %}
        {% endif %}
        {% endwith %}
        {% block app_content %}
        {% endblock %}
        </div>
        {% include 'cookies.html' %}
</script>
</body>
{% endblock %}
{% block scripts %}
{{ moment.include_moment(local_js="https://digitalblog.github.io/cdn/js/moment-with-locales.min.js") }}
{{ moment.lang(g.locale) }}
<script>
$(function(){
	$(window).scroll(function(){
		if($(window).scrollTop() > 100) {
			$('#scroll_top').show();
		} else {
			$('#scroll_top').hide();
		}
	});
 
	$('#scroll_top').click(function(){
		$('html, body').animate({scrollTop: 0}, 600);
		return false;
	});
    });
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
        function set_message_count(n) {
            $('#message_count').text(n);
        }
        function set_notify_count(n) {
            $('#notify_count').text(n);
        }
        {% if current_user.is_authenticated %}
        $(function() {
            var since = 0;
            setInterval(function() {
                $.ajax('{{ url_for('main.notifications') }}?since=' + since).done(
                    function(notifications) {
                        for (var i = 0; i < notifications.length; i++) {
                            switch (notifications[i].name) {
                                case 'unread_message_count':
                                    set_message_count(notifications[i].data);
                                case 'unread_notify_count':
                                    set_notify_count(notifications[i].data);
                            }
                            since = notifications[i].timestamp;
                        }
                    }
                );
            }, 10000);
        });
        {% endif %}
    </script>
    {% endblock %}
</html>